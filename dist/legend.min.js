"use strict";!function(a){function b(a){var b=$('<ul class="dropdown-menu" role="menu"/>');return $.each(a.lists||[],function(){var a=$("<li/>").appendTo(b);this.class&&this.class.indexOf("divider")>=0?a.addClass(this.class):$("<a/>").attr("href",this.href||"#").text(this.text||"dropdown.lists[ ].text").addClass(this.class).bind(this.listeners).appendTo(a)}),b}a.baseUl=function(){return $("<ul/>")},a.baseLi=function(){return $("<li/>")},a.text=function(a){return a=a.text||a,$("<span/>").html(a.value)},a.rootCheckbox=function(a){return a=a.rootCheckbox||a,$('<span class="glyphicon"/>').addClass(a.checked?"glyphicon-check":"glyphicon-unchecked").addClass("root-checkbox").click(function(){$(this).toggleClass("glyphicon-check").toggleClass("glyphicon-unchecked").parent("li").find("ul span.list-checkbox").toggleClass("glyphicon-check",$(this).hasClass("glyphicon-unchecked")).toggleClass("glyphicon-unchecked",$(this).hasClass("glyphicon-check")).trigger("click")})},a.checkbox=function(a){return a=a.checkbox||a,$('<span class="glyphicon"/>').addClass(a.checked?"glyphicon-check":"glyphicon-unchecked").addClass("list-checkbox").click(function(){$(this).toggleClass("glyphicon-check").toggleClass("glyphicon-unchecked")}).bind(a.listeners)},a.dropdown=function(a){a=a.dropdown||a;var c=$('<div class="btn-group"/>').addClass(a.dropup?"dropup":"");return $('<button data-toggle="dropdown"/>').appendTo(c).addClass("btn btn-xs btn-default dropdown-toggle").text(a.buttonText||"dropdown.buttonText").append('<span class="caret"/>'),b(a).appendTo(c),c},a.dropdownS=function(a){a=a.dropdownS||a;var c=$('<div class="btn-group"/>').addClass(a.dropup?"dropup":"");return $("<button>").appendTo(c).addClass("btn btn-xs btn-default").text(a.buttonText||"dropdown.buttonText").bind(a.listeners),$('<button data-toggle="dropdown"/>').appendTo(c).addClass("btn btn-xs btn-default dropdown-toggle").append('<span class="caret"/>'),b(a).appendTo(c),c},a.chevron=function(){return $('<span class="glyphicon glyphicon-chevron-down"/>').click(function(){$(this).toggleClass("glyphicon-chevron-down").toggleClass("glyphicon-chevron-right").parent("li").find("ul").slideToggle(99)})}}(window.$el={}),function(a){function b(a,b){d($el.baseUl(),b).appendTo("#"+a)}function c(a,b,c){var d=$el.baseLi(),e=b.elements||g;return e=c?e.root:e.list,e=e[a]||e[0],$.each(e,function(){d.append($(this(b)))}),d}function d(a,b,e){return e=e||0,$.each(b,function(){this.children&&this.children.length>0?c(e,this,!0).appendTo(a).append(d($el.baseUl(),this.children,e+1)):c(e,this).appendTo(a)}),a}function e(){}var f,g;a.init=function(a){var c,d;if(!a)throw new Error("Cannot get data to build legend");if(c=f||a.data||e(a.url,a.mapper),d=a.id||"ns-legend",g=a.elements||{root:{0:[$el.text]},list:{0:[$el.text]}},"string"!=typeof d)throw new Error("Id must be string value");if(!c)throw new Error("Id must be in legend options legend");if(!(c.length>0))throw new Error("To create legend has to be at least one root element");b(d,c)},a.setData=function(a){f=a},a.getData=function(){return f}}(window.$legend={});