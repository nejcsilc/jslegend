"use strict";!function(a){a.baseUl=function(){return $("<ul/>")},a.baseLi=function(){return $("<li/>")},a.text=function(a){return $("<span/>").html(a.name)},a.rootCheckbox=function(a){return $('<span class="glyphicon"/>').addClass(a.checked?"glyphicon-check":"glyphicon-unchecked").addClass("root-checkbox").click(function(){$(this).toggleClass("glyphicon-check").toggleClass("glyphicon-unchecked").parent("li").find("ul span.list-checkbox").toggleClass("glyphicon-check",$(this).hasClass("glyphicon-unchecked")).toggleClass("glyphicon-unchecked",$(this).hasClass("glyphicon-check")).trigger("click")})},a.checkbox=function(a){return $('<span class="glyphicon"/>').addClass(a.checked?"glyphicon-check":"glyphicon-unchecked").addClass("list-checkbox").click(function(){$(this).toggleClass("glyphicon-check").toggleClass("glyphicon-unchecked")}).bind(a.listeners)},a.dropdown=function(){return $("<button/>")},a.chevron=function(){return $('<span class="glyphicon glyphicon-chevron-down"/>').click(function(){$(this).toggleClass("glyphicon-chevron-down").toggleClass("glyphicon-chevron-right").parent("li").find("ul").slideToggle(99)})}}(window.$el={}),function(a){function b(a,b){d($el.baseUl(),b).appendTo("#"+a)}function c(a,b,c){var d=$el.baseLi(),e=b.elements||g;return e=c?e.root:e.list,e=e[a]||e[0],$.each(e,function(){d.append($(this(b)))}),d}function d(a,b,e){return e=e||0,$.each(b,function(){this.children&&this.children.length>0?c(e,this,!0).appendTo(a).append(d($el.baseUl(),this.children,e+1)):c(e,this).appendTo(a)}),a}function e(){}var f,g;a.init=function(a){var c,d;if(!a)throw new Error("Cannot get data to build legend");if(c=f||a.data||e(a.url,a.mapper),d=a.id||"ns-legend",g=a.elements||{root:{0:[$el.text]},list:{0:[$el.text]}},"string"!=typeof d)throw new Error("Id must be string value");if(!c)throw new Error("Id must be in legend options legend");if(!(c.length>0))throw new Error("To create legend has to be at least one root element");b(d,c)},a.setData=function(a){f=a},a.getData=function(){return f}}(window.$legend={});